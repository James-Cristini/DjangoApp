{% extends 'forge/base.html' %}

{% load static %}
{% block title %}
- World Detail
{% endblock %}

{% block content %}


{% if world.is_public or can_edit %}
  <div class='container center-div'>
    {% include 'forge/sub_nav.html' %}
    <h1>{{ world.name }}
        {% if can_edit %}
        <a href="{% url 'update_world' world.pk user_obj.username world.name %}">(Edit)</a>
        {% else %}
        <a href="{% url 'world_index' user_obj.username %}">({{ user_obj.username }})</a>
        {% endif %}
    </h1>
    <div class="img-responsive">
        {% if world.image %}
        <img src="{{ world.image.url }}">
        {% else %}
        <img src="{% static 'forge/default_world.jpg' %}"/>
        {% endif %}
    </div>
  </br>
    <small>{{ world.genre }}</small>
    <p>{{ world.description }}</p>
    <p>{{ world.story }}</p>
  <hr/>
  <div class="container">
    <a href="{% url 'tile_index' user_obj.username world.name %}">
      <h4>Tiles</h4>
    </a>
    <div class="row">
        {% for tile in tiles %}
        <div class="mb-1 mr-1">
          <a href="{% url 'tile_detail' user_obj.username world.name tile.name %}">
              {% if tile.image %}
              <img src="{{ tile.image_thumb.url }}" title="{{ tile.name }}" class="hover_img">
              {% else %}
              <img src="{% static 'forge/default_tile_thumb.jpg' %}"/>
              {% endif %}
          </a>
        </div>
        {% endfor %}
        {% if can_add_tile %}
        <div class="mb-1 mr-1">
          <a href="{% url 'tile_index' user_obj.username world.name %}">
            <img src="{% static 'forge/add_item.png' %}" title="Create New Tile" class="hover_img">
          </a>
        </div>
        {% elif can_edit %}
        <div class="mb-1 mr-1">
          <img src="{% static 'forge/add_item.png' %}" style="opacity:.3" title="Cannot create more Tiles">
        </div>
        {% endif %}
    </div>
  </div>
  <hr/>
  {% include 'forge/categories_things.html' %}
</div>
<hr/>
</br>
{% else %}
<h2> This world is set to private</h2>
{% endif %}
{% endblock %}
<!--
<div class="row-fluid">
  <div class="horizontal-scroll-container">
    {% for tile in tiles %}
    <div class="horizontal-scroll-item">
      <a href="{% url 'tile_detail' user_obj.username world.name tile.name %}">
        <img src="{{ tile.image_thumb.url }}" title="{{ tile.name }}" class="hover_img">
      </a>
    </div>
    {% endfor %}
    {% if can_add_tile %}
    <div class="horizontal-scroll-item">
      <a href="{% url 'tile_index' user_obj.username world.name %}">
        <img src="{% static 'forge/add_item.png' %}" title="Create New Tile" class="hover_img">
      </a>
    </div>
    {% elif can_edit %}
    <div class="horizontal-scroll-item">
      <img src="{% static 'forge/add_item.png' %}" style="opacity:.3" title="Cannot create more Tiles">
    </div>
    {% endif %}
  </div>
</div>
<style>
.horizontal-scroll-container {
    height: 180px;
    width: 100%;
    white-space: nowrap;
    overflow-x: scroll;
    overflow-y: hidden;
}
.horizontal-scroll-item {
    position: relative;
    display: inline-block;
    margin: 2px;
    box-shadow: 2px 2px 4px #bbb;
    border-top-right-radius: 4px;
    vertical-align: bottom;
    background-position: top left;
    background-repeat: no-repeat;
    background-size: cover;
}
</style>
-->